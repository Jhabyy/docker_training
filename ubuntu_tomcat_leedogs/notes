#NOTE all below steps are to aid in forming your own images. 
#The names/values change depending on when the note was added. 
#Software version will change, names should be your own, etc.

#Software environment/dependancies: Git, Docker.
#Have your own github account and docker account
#The following example is to be run on your own laptop.
#If a server is used, we need to vary the ports to prevent port conflicts.
#The point is to develop an understanding of docker, not create a usable product.

#Download files
git clone https://github.com/leefrankpierce/docker_training

#docker build 
# Please change to your own name, the period at the end is important.
# "docker build", Cleanup "--t", Name the image "-t", look in the current dir for a Dockerfile "."
docker build --rm -t centos-tomcat-leedogs:v2.1 . 
#Run the image in the local docker environment (desktop) 
# "docker run", name the container "--name", create a termninal "-it", map ports from laptop to into docker "-dp", image to run
docker run --name dog -it -dp 8888:8080 centos-tomcat-leedogs:v2.1  
# From a web browser "localhost" is your laptop, Port mapped above ":", Path to trigger tomcat.
http://localhost:8888/leeJS/
# or if running from a server
http://server IP:8888/leeJS/

#To log into the running container.
docker attach dog
#What docker containers are running, stopping and cleaning up.
docker ps -a
docker stop b461816a7b69
docker rm $(docker ps -a -q)

#Upload to dockerhub
docker image ls
REPOSITORY              TAG       IMAGE ID       CREATED         SIZE
ubuntu-tomcat-leedogs   V1.1      ce02eec7376d   8 minutes ago   680MB


docker login #Get logged into Docker hub, Sets up the connection.

# Tag or alias the image pointing to the dockerhub repo (dockerhub is presumed)
docker image tag ubuntu-tomcat-leedogs:V1.1 leefrankpierce/leedogs:40
# Push the image to dockerhub
docker image push leefrankpierce/leedogs:40
